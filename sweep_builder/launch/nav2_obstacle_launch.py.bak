from launch import LaunchDescription
from launch.actions import IncludeLaunchDescription
from launch.launch_description_sources import PythonLaunchDescriptionSource
from ament_index_python.packages import get_package_share_directory
import os

def generate_launch_description():
    nav2_pkg = get_package_share_directory('nav2_bringup')
    sweep_pkg = get_package_share_directory('sweep_builder')
    params = os.path.join(sweep_pkg, 'config', 'obstacle_costmap_params.yaml')

    return LaunchDescription([
        # Nav2 bring-up
        IncludeLaunchDescription(
            PythonLaunchDescriptionSource(
                os.path.join(nav2_pkg, 'launch', 'bringup_launch.py')),
            launch_arguments = {
                'map':                '',          # 지도 없으면 빈 문자열
                'use_sim_time':       'false',
                'params_file':        params,
                'autostart':          'true',
            }.items()
        )
    ])